{"data":{"site":{"siteMetadata":{"title":"About web performance and sites with energy low.","author":"Dmitry Schegolihin"}},"markdownRemark":{"id":"ddd79a36-d155-56b1-8014-3f0167bc57cd","excerpt":"In the .env file set the value of   to the   of a running Magento instance. For my case is the  . Then execute: See some validation errors…","html":"<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/78b811a6796cdd3a97e67cdf8839aafa/caca9/venia-home.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 109.54907161803713%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsSAAALEgHS3X78AAAC4klEQVQ4y5VTS08TURTuXzGu/QMmxo0bdaPRDRtNIC5Eo4H63PhCYjS+EhWjEATahkAJiSgEKaSiIq08iobWUGnptJ3pzLTzvvOeKZ7OQFtiiXqSuXPvl++7556XR1EUnucZhlFVVamaLCuaLuEZhCUVTascK5hMURRCCFaO4wDxGIYRj8ej0Shs5KohpJg2OzdRfN+v6AYIgCqKItBIkkylUqFQyDRNDzBVx1yXmqbpur61KrKGJN0w3CMY3CI7r4CL4O8pl8ubdSZJEjwJAoEViCJCxWIRqBCXIAj1TNu2Pfa2GH5wEVCz2SxQCwWCpimSKsAGgszlchRNOZSy688R2/amg23+izmsBmJO0RKJBJ7DXBrNbTzsPvc0cAanEy7yMz2L4Ys0saaK3JbYcsS/8OLYcmp+dmYx8olgK7F1vmw5fWnfyQt7B8d64JjBVp/1HV9NByLhV0sfgoBYluWBD3bfk+nXPt/KwpeFqaH1+AIg1x8c89462NZx6F7nFdMqx2IzN+/sH545PzjkHR94viV2ny0J3KT/0XSwaz70VhZZQJKZj/2jzff9h0Phih9dV95N3PUPN/f52uLxH9vi7VRBI7FUXlMVJy8VUJE4hs1VM2noECxpGkpdqRzPUHcMy5IUTRAEdAcgDFvK4zhJ0hzPuRk1DD2PE9AItWxXiwRNhuM4rNVilGtFrTVG9VzzXC9wjxCSK7Uss2HJd3iGmmmmZdddoepI1oTd+qXmGVacZVdT6XyJcSsfi4Xf+Fqf9DRNfws619m7ikmOXyNLS18/x9YzpCgC0n7tgD/Y3he4eOLUHlEU/mxhp8OckFZic3c6znY9vtHS3hRZjgDS6j3SO9o9Fh656j3K86XGYtezpcuLk70jLy4HBm6rmgwIlslE58NT0+PJjfW/xGxaFgw9EhgbsmzZbraRJCJJ2G3gamKYfhhausSQZAH2gCAkAUJSlChJDWd2R6n+10D8G9IkvaZ+jIgnAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Venia Home\"\n        title=\"\"\n        src=\"/static/78b811a6796cdd3a97e67cdf8839aafa/fb8a0/venia-home.png\"\n        srcset=\"/static/78b811a6796cdd3a97e67cdf8839aafa/1a291/venia-home.png 148w,\n/static/78b811a6796cdd3a97e67cdf8839aafa/2bc4a/venia-home.png 295w,\n/static/78b811a6796cdd3a97e67cdf8839aafa/fb8a0/venia-home.png 590w,\n/static/78b811a6796cdd3a97e67cdf8839aafa/caca9/venia-home.png 754w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">git clone https://github.com/magento-research/pwa-studio.git\ncd pwa-studio\nnpm install\ncp packages/venia-concept/.env.dist packages/venia-concept/.env</code></pre></div>\n<p>In the .env file set the value of <code class=\"language-text\">MAGENTO_BACKEND_URL</code> to the <code class=\"language-text\">URL</code> of a running Magento instance. For my case is the <code class=\"language-text\">http://m230.test/</code>.</p>\n<p>Then execute:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">npm run build</code></pre></div>\n<p>See some validation errors:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Cannot validate queries because the configured Magento backend http://m230.test/ disallows introspection in &quot;production&quot; mode. If you can do so, set this Magento instance to &quot;developer&quot; mode.\n\nThe introspection query to http://m230.test/graphql failed with the following errors:\n\t- GraphQL introspection is not allowed, but the query contained __schema or __type\n\t- Max query depth should be 10 but got 11.\n\nThe current default backend for Venia development is:\n\n\thttps://release-dev-rxvv2iq-zddsyhrdimyra.us-4.magentosite.cloud/\n\nThe configured MAGENTO_BACKEND_URL in the current environment is\n\n\thttp://m230.test/\n\nConsider updating your .env file or environment variables to resolve the reported issues.</code></pre></div>\n<p>Setup the <code class=\"language-text\">developer mode</code> for your magento instance:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">bin/magento deploy:mode:set developer</code></pre></div>\n<p>After setup the <code class=\"language-text\">developer</code> mode we try to again execute build:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">npm run build</code></pre></div>\n<p>See another errors:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">/Users/sportmage/workspace/pwa-studio/packages/venia-concept/src/queries/getProductDetail.graphql\n  37:25  error  Cannot query field &quot;fashion_color&quot; on type &quot;SimpleProduct&quot;  graphql/template-strings\n\n/Users/sportmage/workspace/pwa-studio/packages/venia-concept/src/RootComponents/Product/Product.js\n  48:29  error  Cannot query field &quot;fashion_color&quot; on type &quot;SimpleProduct&quot;  graphql/template-strings\n\n✖ 2 problems (2 errors, 0 warnings)\n\n\n  These errors may indicate:\n  -  an out-of-date Magento 2.3 codebase running at &quot;http://m230.test/&quot;\n  -  an out-of-date project codebase whose queries need updating\n\nUse GraphiQL or another schema exploration tool on the Magento store to learn more.</code></pre></div>\n<p>This happens because you’re running against a Magento instance that has no Venia sample data and because the Venia GraphQL queries for product options fashion<em>color and fashion</em>size are hardcoded.\nRelated issue <a href=\"https://github.com/magento-research/pwa-studio/issues/626\">https://github.com/magento-research/pwa-studio/issues/626</a></p>\n<p>For fixed need to install the <code class=\"language-text\">Venia sample data</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">chmod +x pwa-studio/packages/venia-concept/deployVeniaSampleData.sh</code></pre></div>\n<p>Then execute the <code class=\"language-text\">setup:upgrade</code> for your magento instance:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">bin/magento setup:upgrade</code></pre></div>","frontmatter":{"title":"PWA Studio - installation the Venia theme concept.","date":"January 06, 2019"}}},"pageContext":{"slug":"/m2-pwa-venia-install/","previous":{"fields":{"slug":"/m2-fixtures/"},"frontmatter":{"title":"Performance profiles instead full sample data"}},"next":null}}